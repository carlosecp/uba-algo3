Error subclass: #AbonoMensualInvalido	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1-Exception'!Error subclass: #DestinoInvalido	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1-Exception'!Error subclass: #DuracionInvalida	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1-Exception'!Error subclass: #HorarioInvalido	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1-Exception'!Error subclass: #MontoTarifaInvalido	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1-Exception'!Error subclass: #SinLlamadasRegistradas	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1-Exception'!Object subclass: #Horario	instanceVariableNames: 'horario monto'	classVariableNames: ''	package: 'TP1'!!Horario methodsFor: 'accessing' stamp: 'CarlosCastillo 5/26/2022 14:48'!asString 	^ horario asString! !!Horario methodsFor: 'accessing' stamp: 'CarlosCastillo 5/26/2022 14:16'!horario: unHorario	( unHorario between: 1 and: 24 ) ifFalse: [ HorarioInvalido signal ] .		horario := unHorario! !!Horario methodsFor: 'accessing' stamp: 'CarlosCastillo 5/26/2022 14:23'!monto	^ monto! !!Horario methodsFor: 'accessing' stamp: 'CarlosCastillo 5/26/2022 14:31'!monto: unMonto	( unMonto < 0 ) ifTrue: [ MontoTarifaInvalido signal ] .		monto := unMonto! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Horario class	instanceVariableNames: ''!!Horario class methodsFor: 'as yet unclassified' stamp: 'CarlosCastillo 5/26/2022 14:35'!conMontoEnBaseAHorario: unHorario	| monto |		monto := ( unHorario between: 8 and: 20 )		ifTrue: [ 0.2 ]		ifFalse: [ 0.1 ] .			^ ( self new )		horario: unHorario;		monto: monto! !!Horario class methodsFor: 'as yet unclassified' stamp: 'CarlosCastillo 5/26/2022 14:24'!conMontoFijo: unMonto conHorario: unHorario	^ ( self new )		horario: unHorario;		monto: unMonto! !Object subclass: #Llamada	instanceVariableNames: 'duracion tarifa'	classVariableNames: ''	package: 'TP1'!!Llamada methodsFor: 'as yet unclassified' stamp: 'CarlosCastillo 5/26/2022 14:48'!tarifa: unaTarifa 	tarifa := unaTarifa! !!Llamada methodsFor: 'as yet unclassified' stamp: 'CarlosCastillo 5/25/2022 10:33'!descripcion	self subclassResponsibility! !!Llamada methodsFor: 'as yet unclassified' stamp: 'CarlosCastillo 5/25/2022 10:33'!duracion: unaDuracion	unaDuracion < 0 ifTrue: [ DuracionInvalida signal ] .		duracion := unaDuracion! !!Llamada methodsFor: 'as yet unclassified' stamp: 'CarlosCastillo 5/26/2022 14:53'!costoTotal	^ tarifa calcularMontoNeto ! !!Llamada methodsFor: 'as yet unclassified' stamp: 'CarlosCastillo 5/25/2022 10:32'!esDeLargaDuracion	^ duracion > 30	! !Llamada subclass: #LlamadaInternacional	instanceVariableNames: 'destino'	classVariableNames: ''	package: 'TP1'!!LlamadaInternacional methodsFor: 'initialization' stamp: 'CarlosCastillo 5/25/2022 10:34'!initialize 	super initialize.	destino := ''! !!LlamadaInternacional methodsFor: 'as yet unclassified' stamp: 'CarlosCastillo 5/25/2022 10:34'!destino: unDestino	unDestino ifEmpty: [ DestinoInvalido signal ] .		destino := unDestino! !!LlamadaInternacional methodsFor: 'as yet unclassified' stamp: 'CarlosCastillo 5/26/2022 14:50'!descripcion	^ 'La llamada se hizo a ' , destino , ' a las ' , tarifa horario , ' hs durando ' , duracion asString, ' minutos'! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!LlamadaInternacional class	instanceVariableNames: 'unaTarifa'!!LlamadaInternacional class methodsFor: 'as yet unclassified' stamp: 'CarlosCastillo 5/26/2022 14:39'!conDuracion: unaDuracion conHorario: unHorario conTarifaInternacional: unaTarifaInternacional conDestino: unDestino	| horario |		horario := Horario conMontoFijo: unaTarifaInternacional conHorario: unHorario.		^ ( self new )		duracion: unaDuracion;		tarifa: ( Tarifa conDuracion: unaDuracion conHorario: horario );		destino: unDestino	! !Llamada subclass: #LlamadaNacional	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1'!!LlamadaNacional methodsFor: 'as yet unclassified' stamp: 'CarlosCastillo 5/26/2022 14:56'!descripcion 	^ 'La llamada se hizo a las ', tarifa horario, ' hs durando ', duracion asString, ' minutos'! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!LlamadaNacional class	instanceVariableNames: ''!!LlamadaNacional class methodsFor: 'as yet unclassified' stamp: 'CarlosCastillo 5/26/2022 14:52'!conDuracion: unaDuracion conHorario: unHorario	| horario |		horario := Horario conMontoEnBaseAHorario: unHorario.	^ ( self new )		duracion: unaDuracion;		tarifa: ( Tarifa conDuracion: unaDuracion conHorario: horario )! !Object subclass: #Tarifa	instanceVariableNames: 'duracion horario'	classVariableNames: ''	package: 'TP1'!!Tarifa methodsFor: 'as yet unclassified' stamp: 'CarlosCastillo 5/26/2022 14:01'!horario: unHorario	horario := unHorario! !!Tarifa methodsFor: 'as yet unclassified' stamp: 'CarlosCastillo 5/26/2022 13:56'!duracion: unaDuracion	( unaDuracion < 0 ) ifTrue: [ DuracionInvalida signal ] .	duracion := unaDuracion! !!Tarifa methodsFor: 'as yet unclassified' stamp: 'CarlosCastillo 5/26/2022 14:01'!calcularMontoBruto	^ ( horario monto ) * duracion! !!Tarifa methodsFor: 'as yet unclassified' stamp: 'CarlosCastillo 5/26/2022 13:45'!esDeLargaDuracion	^ duracion > 30! !!Tarifa methodsFor: 'as yet unclassified' stamp: 'CarlosCastillo 5/26/2022 14:49'!horario	^ horario asString! !!Tarifa methodsFor: 'as yet unclassified' stamp: 'CarlosCastillo 5/26/2022 15:02'!calcularDescuentoDeMontoBruto: unMontoBruto	| porcentajeDeDescuento  descuentoLargaDuracion |		descuentoLargaDuracion := 0.1 .		porcentajeDeDescuento := ( self esDeLargaDuracion )		ifTrue: [ descuentoLargaDuracion ]		ifFalse: [ 0 ] .			^ unMontoBruto * porcentajeDeDescuento! !!Tarifa methodsFor: 'as yet unclassified' stamp: 'CarlosCastillo 5/26/2022 13:45'!calcularMontoNeto	| montoBruto |		montoBruto := self calcularMontoBruto .		^ montoBruto - ( self calcularDescuentoDeMontoBruto: montoBruto )! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Tarifa class	instanceVariableNames: ''!!Tarifa class methodsFor: 'as yet unclassified' stamp: 'CarlosCastillo 5/26/2022 14:30'!conDuracion: unaDuracion conHorario: unHorario	^ ( self new )		duracion: unaDuracion;		horario: unHorario! !Object subclass: #TeleAlgo	instanceVariableNames: 'abonoMensual llamadas tarifaInternacional'	classVariableNames: ''	package: 'TP1'!!TeleAlgo methodsFor: 'initialization' stamp: 'CarlosCastillo 5/25/2022 10:34'!initialize	abonoMensual := 0 .	llamadas := OrderedCollection new .	tarifaInternacional := 0! !!TeleAlgo methodsFor: 'as yet unclassified' stamp: 'CarlosCastillo 5/25/2022 10:34'!calcularGastoFinal	^ abonoMensual + ( llamadas sumNumbers: [ :llamada | llamada costoTotal ] )! !!TeleAlgo methodsFor: 'as yet unclassified' stamp: 'CarlosCastillo 5/26/2022 14:37'!registrarLlamadaInternacionalCon: unaDuracion HechaEnElHorario: unHorario Hacia: unDestino	llamadas add: ( LlamadaInternacional		conDuracion: unaDuracion		conHorario: unHorario		conTarifaInternacional: tarifaInternacional 		conDestino: unDestino )! !!TeleAlgo methodsFor: 'as yet unclassified' stamp: 'CarlosCastillo 5/25/2022 10:34'!aplicarTarifaPorMinutoALlamadaInternacional: unaTarifa	tarifaInternacional := unaTarifa! !!TeleAlgo methodsFor: 'as yet unclassified' stamp: 'CarlosCastillo 5/25/2022 10:34'!consultarPorLlamadaEfectuadaMasCostosa	| llamadaMasCostosa |		llamadas ifEmpty: [ SinLlamadasRegistradas signal ] .	llamadaMasCostosa := llamadas detectMax: [ :llamada | llamada costoTotal ] .		^ 'La llamada mas costosa: ', llamadaMasCostosa descripcion! !!TeleAlgo methodsFor: 'as yet unclassified' stamp: 'CarlosCastillo 5/25/2022 10:34'!abonoMensual: unAbonoMensual	unAbonoMensual < 0 ifTrue: [ AbonoMensualInvalido signal ] .		abonoMensual := unAbonoMensual! !!TeleAlgo methodsFor: 'as yet unclassified' stamp: 'CarlosCastillo 5/25/2022 10:34'!registrarLlamadaNacionalConDuracion: unaDuracion HechaEnElHorario: unHorario	llamadas add: ( LlamadaNacional		conDuracion: unaDuracion		conHorario: unHorario )! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!TeleAlgo class	instanceVariableNames: ''!!TeleAlgo class methodsFor: 'as yet unclassified' stamp: 'CarlosCastillo 4/25/2022 16:05'!conAbonoMensual: unAbonoMensual	^ ( self new ) abonoMensual: unAbonoMensual! !